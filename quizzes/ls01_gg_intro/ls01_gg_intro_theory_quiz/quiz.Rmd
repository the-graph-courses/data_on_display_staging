---
title: '\ '
output: blogdown::html_page
editor_options: 
  chunk_output_type: console
quiz_title: '03.03 ggplot() basics'
quiz_type: 'simple_theory'
course_abbrev: 'IDAR'
---

```{r, echo = F, message = F, warning = F}
if(!require(pacman)) install.packages("pacman")
pacman::p_load(tidyverse, 
               here,
               knitr)

# Setup for uploading images
#knitr::opts_knit$set(upload.fun = imgur_upload)
opts_chunk$set(warning = F, message = F)
```


## Prologue

This quiz tests your understanding of the basic functioning of the {ggplot2} package. Good luck!
  
For multiple choice questions, please enter the correct letter option into the provided box.

------------------------------------------------------------------------

# Q 1

What does the `gg` in `ggplot2` stand for?

## A

Graphical geometries

## B

Grey goose

## C

Grammar of graphics

## D

Good game

## Answer

C

## Correct message

Good game!
GG stands for **G**rammar of **G**raphics.

## Incorrect message

Nice try, but not this time.
GG stands for **G**rammar of **G**raphics.

------------------------------------------------------------------------

# Q 3

What is the name of the most robust R package for data visualization?

## A

{base}

## B

{ggplot}

## C

{tidyverse}

## D

{ggplot2}

## Answer

D

## Correct message

You remembered! We use {ggplot2} for this course.

## Incorrect message

Sorry, that's not it. If you go back to the lessons, or some of the Esquisser graphs we've made, you'll see we use {ggplot2}.

------------------------------------------------------------------------

# Q 4

True or False: The {ggplot2} package is part of the {tidyverse} meta-package.

## A

FALSE

## B

TRUE

## Answer

B

## Correct message

Indeed, {ggplot2} is a core tidyverse package. You can take a look at the [tidyverse website](https://www.tidyverse.org/){target="_blank"} to see all the packages in the tidyverse.

## Incorrect message

{ggplot2} is a core tidyverse package. You can take a look at the [tidyverse website](https://www.tidyverse.org/){target="_blank"} to see all the packages in the tidyverse.

------------------------------------------------------------------------

# Q 5: 

Which of the code segments below will NOT work to load the {ggplot2} package?

## A

`library(tidyverse)`

## B

`library(ggplot)`

## C

`library(ggplot2)`

## Answer

B

## Correct message

**G**ood **g**ame! Loading either {ggplot2} or {tidyverse} (which includes {ggplot2}) get us {ggplot2}.

It can be confusing, but remember that {ggplot2} is the package and `ggplot()` is the key function in that package.

## Incorrect message

Loading either {ggplot2} or {tidyverse} (which includes {ggplot2}) get us {ggplot2}.

It can be confusing, but remember that {ggplot2} is the package and `ggplot()` is the key function in that package.

------------------------------------------------------------------------

# Q 7: 

True or False: To properly use the `ggplot()` function, you need to use all 7 grammar of graphics layers (data, aesthetics, geometries, facets, statistics, coordinates and themes)

## A

FALSE

## B

TRUE

## Answer

A

## Correct message

Correct! Only three layers have to be specified for a basic ggplot: data, aesthetics and geometries.

```{r echo = F}
knitr::include_graphics(here("lessons/images/gg_min_build3.png"))
```

## Incorrect message

Only three layers have to be specified for a basic ggplot: data, aesthetics and geometries.

```{r echo = F}
knitr::include_graphics(here("lessons/images/gg_min_build3.png"))
```


------------------------------------------------------------------------

# Q 8: 

What are the three essential layers for the `ggplot` function?

## A

Facets, Data, and Statistics

## B

Coordinates, Data, and Themes

## C

Data, Geometries, and Aesthetics

## Answer

C

## Correct message

You're **g**oing for the **g**old!
We need Data, Geometries, and Aesthetics for `ggplot` to work.

```{r echo = F}
knitr::include_graphics(here("lessons/images/gg_min_build3.png"))
```


## Incorrect message

We need Data, Geometries, and Aesthetics for `ggplot` to work.
Go back to the lesson and see!

```{r echo = F}
knitr::include_graphics(here("lessons/images/gg_min_build3.png"))
```

  
------------------------------------------------------------------------

# Q 9: 

All EXCEPT ONE of the code chunks shown will plot the scatter plot seen, using the `women` dataset in R. Which code chunk is faulty? 

(Hint: `women` is a built-in R dataset, so you can test these on your computer)

```{r echo = F}
ggplot(women) + 
  geom_point(aes(height, weight))
```

## A

```{r eval = F}
ggplot(data = women, 
       mapping = aes(x = height, 
                     y = weight)) + 
  geom_point()
```

## B

```{r eval = F}
ggplot(women, aes(height, weight)) + 
  geom_point()
```

## C

```{r eval = F}
women %>% 
  ggplot(mapping = aes(x = height, 
                       y = weight)) + 
  geom_point()
```

## D

```{r eval = F}
women %>% 
  ggplot(aes(x = height, y = weight)) + 
  geom_point()
```

## E

```{r eval = F}
ggplot(dataset = women, 
       aesthet = c(height, weight)) + 
  geom_point()
```


## Answer

E

## Correct message

Great catch! 

`dataset` and `aesthet` are incorrect arguments of `ggplot()`.

As you can see, there are many ways to write correct ggplot code. 

In this example, the most explicit code would be: 

```{r eval = F}
ggplot(data = women, 
       mapping = aes(x = height, y = weight)) + 
  geom_point()
```

But `data` and `mapping` are always the first and second arguments to `ggplot()`, so we can actually skip their names and just provide the data and the aesthetic mappings as the first and second arguments, and the code runs fine: 

```{r eval = F}
ggplot(women, aes(x = height, y = weight)) + 
  geom_point()
```

Similarly, `x` and `y` are the first and second arguments in the `aes()` function, so if we provide the argument values in the right order, we can skip `x = ` and `y =` in the code: 

```{r eval = F}
ggplot(women, aes(height, weight)) + 
  geom_point()
```

## Incorrect message

`dataset` and `aesthet` are incorrect arguments of `ggplot()`.

As you can see, there are many ways to write correct ggplot code. 

In this example, the most explicit code would be: 

```{r eval = F}
ggplot(data = women, 
       mapping = aes(x = height, y = weight)) + 
  geom_point()
```

But `data` and `mapping` are always the first and second arguments to `ggplot()`, so we can actually skip their names and just provide the data and the aesthetic mappings as the first and second arguments, and the code runs fine: 

```{r eval = F}
ggplot(women, aes(x = height, y = weight)) + 
  geom_point()
```

Similarly, `x` and `y` are the first and second arguments in the `aes()` function, so if we provide the argument values in the right order, we can skip `x = ` and `y =` in the code: 

```{r eval = F}
ggplot(women, aes(height, weight)) + 
  geom_point()
```


------------------------------------------------------------------------

# Q 10:

What do we provide in the `geom` layer?

## A

The geometrical coordinates

## B

The colors that we want to use for the plotting

## C

The types of geometric objects to plot

## Answer

C

## Correct message

Splendid!

The coordinates are automatically calculated (or specified within `scale_*` functions), and the color is an `aes`thetic concern, but the plotted objects belong to the `geom`etry layer.

Here are some examples of geometric objects (for continuous variables):

```{r echo = F}
knitr::include_graphics(here("lessons/images/ggplot01.png"))
```

## Incorrect message

Try again!

The coordinates are automatically calculated (or specified within `scale_*` functions), and the color is an `aes`thetic concern, but the plotted objects belong to the `geom`etry layer.

Here are some examples of geometric objects (for continuous variables):

```{r echo = F}
knitr::include_graphics(here("lessons/images/ggplot01.png"))
```


------------------------------------------------------------------------

# Q 11: 

The scatterplot below uses the `storms` dataset from {dplyr} to visualize the positions and movements of hurricanes in the Unites States in the year 2005. 

```{r}
hurricanes <- storms  %>% filter(status == "hurricane", year == 2005)

ggplot(data = hurricanes, 
       mapping = aes(x = long, y = lat, color = name)) + 
  geom_point()
```

Which of the options below correctly describes the aesthetic mappings of this plot?

## A

-   The latitude variable is mapped to the x aesthetic
-   The longitude variable is mapped to y aesthetic
-   The name variable is mapped to the color aesthetic

## B

-   The latitude aesthetic is mapped to the x axis
-   The longitude aesthetic is mapped to y axis
-   The name aesthetic is mapped to the point color

## Answer

A

## Correct message

Looks like you got it!

The aesthetics used in this plot are x, y and color. Each of these aesthetics is mapped to variable from the data.

Remember that the word "map" used here does not refer to a geographic map! When we say something like "the name variable is mapped to the color aesthetic" we mean "the name variable is *represented by* or *linked to* the color aesthetic".

## Incorrect message

The aesthetics used in this plot are x, y and color. Each of these aesthetics is mapped to variable from the data.

Remember that the word "map" used here does not refer to a geographic map! When we say something like "the name variable is mapped to the color aesthetic" we mean "the name variable is *represented by* or *linked to* the color aesthetic".

------------------------------------------------------------------------

# Q 12:

In which layer would you define the color of your geometric object as an aesthetic mapping?

## A

the `aes` layer

## B

the `geom` layer

## C

the `facets` layer

## D

the `data` layer

## Answer

A

## Correct message

Exactly right!
It's defined with the `aes`thetic layer.

## Incorrect message

Sorry, that's not it!
It's defined with the `aes`thetic layer.

------------------------------------------------------------------------

# Q 13:

The plot created below shows the populations of 3 countries over time: 

```{r fig.width=4}
pop_dat <- filter(tidyr::population, 
                  country %in% c("Nigeria", "United States of America", "Germany"))

ggplot(data = pop_dat, 
       mapping = aes(x = year, y = population)) + 
  geom_point()
```

Which of the modifications below would allow us to differentiate the three countries with point color. 

## A

Add `color = c("red", "green", "blue")` inside `aes()`:

```{r eval = F} 
ggplot(data = pop_dat, 
       mapping = aes(x = year, y = population, 
                     color = c("red", "green", "blue")
                     )) + 
  geom_point()
```


## B

Add `color = c("Nigeria", "United States of America", "Germany")` inside `aes()`:

```{r eval = F} 
ggplot(data = pop_dat, 
       mapping = aes(x = year, y = population, 
                     color = c("Nigeria", "United States of America", "Germany"))) + 
  geom_point()
```

## C

Add `color = country` inside `aes()`:

```{r eval = F} 
ggplot(data = pop_dat, 
       mapping = aes(x = year, y = population, color = country)) + 
  geom_point()
```


## Answer

C

## Correct message

Indeed, to add color, we should simply map the country variable to the color aesthetic, inside the `aes()` function.

Here is the output plot:

```{r fig.width=4}
ggplot(data = pop_dat, 
       mapping = aes(x = year, y = population, color = country)) + 
  geom_point()
```

## Incorrect message

Indeed, to add color, we should simply map the country variable to the color aesthetic, inside the `aes()` function.

Here is the output plot:

```{r fig.width=4}
ggplot(data = pop_dat, 
       mapping = aes(x = year, y = population, color = country)) + 
  geom_point()
```

------------------------------------------------------------------------

# Q 18:

The first layer in `ggplot()` is the data layer. Select the code block below that defines this layer.

## A

```{r eval = F}
ggplot(data=dengue)
```

## B

```{r eval = F}
ggplot() + data(dengue)
```

## C

```{r eval = F}
ggplot.data(dengue)
```

## Answer

A

## Correct message

That's the one!

Remember that you can type in `?ggplot` into your R console to see how to properly define the arguments for this function. 

## Incorrect message

Remember that you can type in `?ggplot` into your R console to see how to properly define the arguments for this function. 

------------------------------------------------------------------------

# Q 19:

The code below tries to use the `swiss` dataset (a built-in R dataset) to create a scatter plot of `Infant.Mortality` against `Fertility`, but generates a blank plot due to an error or oversight.

```{r eval = F}
ggplot(data = swiss, 
       mapping = aes(x = Fertility, 
                     y = Infant.Mortality))
```

What is the problem with the code above?

## A

It is missing a data layer

## B

It is missing an aesthetic mapping

## C

It is missing a geometric function


## Answer

A

## Correct message

Nice work! The data layer and aesthetic mappings are properly specified, but there is no `geom_*` function. In this case, `geom_point()` is needed: 

```{r eval = F}
ggplot(data = swiss, 
       mapping = aes(x = Fertility, 
                     y = Infant.Mortality)) + 
  geom_point()
```

## Incorrect message

The data layer and aesthetic mappings are properly specified, but there is no `geom_*` function. In this case, `geom_point()` is needed: 

```{r eval = F}
ggplot(data = swiss, 
       mapping = aes(x = Fertility, 
                     y = Infant.Mortality)) + 
  geom_point()
```

------------------------------------------------------------------------


# Q 20:

The code below attempts to create a scatterplot of height against weight using the `women` dataset (a built-in R dataset). 

The code is faulty however, and generates no plot. 

```{r eval = F}
ggplot(women, aes(x = height, y = weight)) %>% 
  geom_point()
```

Which of the options below accurately describes the issue with the code?

## A

The code is missing the x and y aesthetic mappings. 

## B

The code uses `%>%` instead of `+` to link the layers of the ggplot.

## C

The code is missing the `data` argument to ggplot.

## Answer

B

## Correct message

Great work! 

Indeed the code uses uses `%>%` instead of `+`. This is a common error when plotting with ggplot. Luckily, ggplot2 now gives you a helpful warning when you make this mistake. 

As for the other two options, remember that in R, function arguments can be matched by position, without explicitly naming the arguments. 

So, the abbreviated

```{r eval = F}
ggplot(women, aes(x = height, y = weight))
```

and the longer

```{r eval = F}
ggplot(data = women, mapping = aes(x = height, y = weight))
```

are functionally equivalent.

## Incorrect message

The code uses uses `%>%` instead of `+`. This is a common error when plotting with ggplot. Luckily, ggplot2 now gives you a helpful warning when you make this mistake. 

As for the other two options, remember that in R, function arguments can be matched by position, without explicitly naming the arguments. 

So, the abbreviated

```{r eval = F}
ggplot(women, aes(x = height, y = weight))
```

and the longer

```{r eval = F}
ggplot(data = women, mapping = aes(x = height, y = weight))
```

are functionally equivalent.


------------------------------------------------------------------------

# Q 21:

You try to plot a graph with the following code:
  
```{r eval = F}
ggplot(mapping = aes(x = height, y = weight)) +
  geom_point()
```

but R returns an error message. What is the problem with this code?

## A

No color has been defined for the plot, so all the data points are transparent.

## B

No geometric layer has been defined yet.

## C

No dataset has been provided yet.

## Answer

C

## Correct message

**G**ood **g**ame! The data for ggplot to use has not been specified.

Here is the correct call, and the resulting output: 

```{r}
ggplot(data = women, 
       mapping = aes(x = height, y = weight)) + 
  geom_point()
```


## Incorrect message

The data for ggplot to use has not been specified.

Here is the correct call, and the resulting output: 

```{r}
ggplot(data = women, 
       mapping = aes(x = height, y = weight)) + 
  geom_point()
```

------------------------------------------------------------------------

# Q 22:

Which of the following is NOT a valid geom function in {ggplot2}?

## A

`geom_col()`

## B

`geom_line()`

## C

`geom_point()`

## D

`geom_shade()`

## Answer

D

## Correct message

That's the one!

All others are valid (and very common) geoms. 

Here is a plot with all three geoms, using the `population` dataset from {tidyr}: 

```{r}
china_pop <- tidyr::population %>% filter(country == "China")

ggplot(data = china_pop, 
       mapping = aes(x = year, y = population)) + 
  geom_col() + 
  geom_point(size = 4) + 
  geom_line(size = 2)
```

Of course, this is a *redundant* plot. We don't need three layers just to show one series of values. Only one of these geoms would be sufficient. 

## Incorrect message

`geom_shade()` is not a {ggplot2} function.

All others are valid (and very common) geoms. 

Here is a plot with all three geoms, using the `population` dataset from {tidyr}: 

```{r}
china_pop <- tidyr::population %>% filter(country == "China")

ggplot(data = china_pop, 
       mapping = aes(x = year, y = population)) + 
  geom_col() + 
  geom_point(size = 4) + 
  geom_line(size = 2)
```

Of course, this is a *redundant* plot. We don't need three layers just to show one series of values. Only one of these geoms would be sufficient.
------------------------------------------------------------------------

# Q 23: 

Which of the below functions is not a `geom_*()` function in {ggplot2}?

## A

`geom_scatterplot()`

## B

`geom_point()`

## C

`geom_line()`

## Answer

A

## Correct message

Great going! 

`geom_scatterplot()` is not a ggplot2 function. Scatter plots are typically created with `geom_point()` in R. For example, here is a scatter plot of petal length and width in the `iris` dataset, made with `geom_point()`:

```{r}
ggplot(iris, 
       aes(x = Petal.Length, 
           y = Petal.Width, 
           color = Species)) + 
  geom_point()
```

## Incorrect message

`geom_scatterplot()` is not a ggplot2 function. Scatter plots are typically created with `geom_point()` in R. For example, here is a scatter plot of petal length and width in the `iris` dataset, made with `geom_point()`:

```{r}
ggplot(iris, 
       aes(x = Petal.Length, 
           y = Petal.Width, 
           color = Species)) + 
  geom_point()
```

------------------------------------------------------------------------

# Q 25: 

Which of the following would you use to make **all** the points in a graph larger?

## A

aesthetic mapping

## B

statistic layering

## C

vector multiplication

## D

a fixed aesthetic

## Answer

D

## Correct message

A fixed `aes`thetic applies to all the figures in a graph.

## Incorrect message

A fixed `aes`thetic applies to all the figures in a graph.

------------------------------------------------------------------------

# Q 26: 

Given the following code chunk,

```{r eval = F}
ggplot(data= health_charts,
  mapping = aes(x = age, y = bmi))
+ geom_point()
```

which of the following would apply an aesthetic mapping to differentiate by sex?

## A

```{r eval = F}
ggplot(data= health_charts,
  mapping = aes(x = age, y = bmi))
+ geom_point(color = sex)
```

## B

```{r eval = F}
ggplot(data= health_charts,
  mapping = aes(x = age, y = bmi, z = sex))
+ geom_point()
```

## C

```{r eval = F}
ggplot(data= health_charts,
  mapping = aes(x = age, y = bmi, color = sex))
+ geom_point()
```

## D

```{r eval = F}
ggplot(data= health_charts,
  mapping = aes(x = age, y = bmi))
+ geom_point(sex c(male = "blue", female = "orange"))
```

## Answer

C

## Correct message

You got it!
`color = sex` inside the `aes` mapping will produce different colors for each sex. The other three code chunks don't work.

## Incorrect message

`color = sex` inside the `aes` mapping will produce different colors for each sex. The other three code chunks don't work.

------------------------------------------------------------------------

# Q 27: 

Many programmers start off building a small chunk of code, testing to see if it works, and adding a bit more, seeing if it works, and building the program one step at a time.
What's the name for this process?

## A

incremental composition

## B

pyramid steps

## C

candle dipping

## D

layered development

## Answer

A

## Correct message

You got it!

## Incorrect message

That wasn't the right name. But really, the important idea is the **process**.

------------------------------------------------------------------------

# Q 28: 

This lesson recommended we put each new element on a separate line. In fact, it's good practice to make **all** our code legible, not just when using `ggplot()`.
But *why* do we want legible code?

## A

If we're showing our code to someone else, it should be easy for them to read.

## B

Trick question, we don't! It's better to keep our code hidden to confuse our enemies.

## C

If we need to come back and change our code, or debug it, this makes the different parts easier to see.

## D

We want legible code for both our own sake as well as anyone else reading it.

## Answer

D

## Correct message

Correct! As we learned in team exercises, legible code is important for others to read.
And as we learned in reviewing our own code, seeing the pieces separately makes it easier to understand how they fit together.

## Incorrect message

As we learned in team exercises, legible code is important for others to read.
And as we learned in reviewing our own code, seeing the pieces separately makes it easier to understand how they fit together.

------------------------------------------------------------------------
# Q 29: 

ONLY ONE of the code chunks shown will plot the scatter plot seen, using the `women` dataset in R. Which code chunk has the correct syntax? 

(Hint: `women` is a built-in R dataset, so you can test these on your computer)

```{r echo = F}
ggplot(women) + 
  geom_point(aes(height, weight))
```

## A

```{r eval = F}
ggplot(data = women, 
       mapping = aes(x = height, 
                     y = weight) + 
  geom_point()
```

## B

```{r eval = F}
ggplot(data = women, 
       mapping = aes(x = height, 
                     y = weight)) %>% 
  geom_point()
```

## C

```{r eval = F}
ggplot(data = women, 
       mapping = aes(y = height,
                     x = weight)) + 
  geom_point()
```

## D

```{r eval = F}
ggplot(data = women, 
       mapping = aes(x = height, 
                     y = weight) + 
  geom_point
```

## E

```{r eval = F}
ggplot(data = women, 
       mapping = aes(x = height, 
                     y = weight) + 
  geom_point()
```


## Answer

E

## Correct message

That's right! 


## Incorrect message

INSERT MESSAGE